# ============================================================================
# Gateway 服务配置
# ============================================================================

service:
  name: gateway-service          # 服务名称
  host: localhost                # 开发环境绑定 localhost
  http_port: 8080                # HTTP 服务端口
  grpc_port: 15091               # gRPC 服务端口

# Logic 服务名称（用于服务发现）
logic_service_name: logic-service  # Logic 服务名称

# 基础组件配置
log:
  level: info
  format: json
  output: stdout

redis:
  name: gateway-redis
  addr: 127.0.0.1:6379
  password: ""
  db: 0
  pool_size: 20
  min_idle_conns: 10

etcd:
  name: gateway-etcd
  endpoints:
    - 127.0.0.1:2379
  dial_timeout: 5s
  lease_ttl: 30s

# 服务注册发现配置
registry:
  namespace: /resonance/services
  default_ttl: 30s
  enable_cache: true
  cache_expiration: 10s

# WebSocket 配置
ws_config:
  read_buffer_size: 1024
  write_buffer_size: 1024
  max_message_size: 1048576  # 1MB
  ping_interval: 30           # 秒
  pong_timeout: 60            # 秒

# WorkerID 分发配置
worker_id:
  max_id: 1024                      # 最大 workerID 数量
  key: resonance:gateway:worker     # Redis 键前缀
